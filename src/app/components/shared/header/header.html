<header class="header">
  <nav class="navbar">
    <!-- Logo y t√≠tulo -->
    <div class="brand">
      <div class="logo">
        <span class="logo-icon">‚ö°</span>
      </div>
      <h1 class="brand-title">Act√≠vate Banco Internacional</h1>
    </div>

    <!-- Men√∫ de navegaci√≥n -->
    <ul class="nav-menu" [class.active]="menuMovilAbierto">
      <li class="nav-item">
        <a
          routerLink="/"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{exact: true}"
          class="nav-link"
        >
          Inicio
        </a>
      </li>
      <li class="nav-item">
        <a routerLink="/campeonato" routerLinkActive="active" class="nav-link">
          Campeonato
        </a>
      </li>
      <li class="nav-item">
        <a
          routerLink="/manana-activate"
          routerLinkActive="active"
          class="nav-link"
        >
          Ma√±ana Act√≠vate
        </a>
      </li>
      <li class="nav-item">
        <a routerLink="/clubes" routerLinkActive="active" class="nav-link">
          Clubes
        </a>
      </li>
    </ul>

    <!-- √Årea de usuario (cuando est√° logueado) -->
    <div class="user-area" *ngIf="usuarioLogueado; else loginButton">
      <div class="user-info">
        <span class="welcome-text">¬°Bienvenido!</span>
        <span class="user-name">{{ nombreUsuario }}</span>
      </div>
      <div class="user-menu">
        <button class="user-menu-btn" (click)="toggleUserMenu()">
          <span class="user-avatar">{{ obtenerIniciales() }}</span>
          <span class="dropdown-arrow" [class.rotated]="userMenuAbierto"
            >‚ñº</span
          >
        </button>
        <div class="user-dropdown" [class.show]="userMenuAbierto">
          <button class="dropdown-item" (click)="irAPerfil()">
            <span>üë§</span> Mi Perfil
          </button>
          <button class="dropdown-item" (click)="iraConfiguracion()">
            <span>‚öôÔ∏è</span> Configuraci√≥n
          </button>
          <button class="dropdown-item logout-btn" (click)="logout()">
            <span>üö™</span> Cerrar Sesi√≥n
          </button>
        </div>
      </div>
    </div>

    <!-- Bot√≥n de login (cuando no est√° logueado) -->
    <ng-template #loginButton>
      <button class="login-btn" (click)="abrirModal()">Iniciar sesi√≥n</button>
    </ng-template>

    <!-- Modal de login -->
    <div
      class="modal-backdrop"
      [class.show]="modalAbierto"
      (click)="cerrarModal()"
    >
      <div class="modal" (click)="$event.stopPropagation()">
        <h2>Iniciar sesi√≥n</h2>
        <h2 class="cerrar-modal">Datos de prueba</h2>
        <h4>
          <pre>
            "correo": "juan&#64;ejemplo.com", "password": "contrase√±a123"</pre
          >
        </h4>
        <form (ngSubmit)="login()" #loginForm="ngForm">
          <input
            type="email"
            name="correo"
            [(ngModel)]="correo"
            placeholder="Correo electr√≥nico"
            required
          />
          <input
            type="password"
            name="password"
            [(ngModel)]="password"
            placeholder="Contrase√±a"
            required
          />
          <button type="submit" [disabled]="!loginForm.form.valid">
            Entrar
          </button>
        </form>
        <button class="cerrar-modal" (click)="cerrarModal()">Cerrar</button>
      </div>
    </div>

    <!-- Bot√≥n m√≥vil (hamburguesa) -->
    <div
      class="mobile-menu-toggle"
      [class.active]="menuMovilAbierto"
      (click)="toggleMenuMovil()"
    >
      <span></span>
      <span></span>
      <span></span>
    </div>
  </nav>
</header>
