<header class="header">
  <nav class="navbar">
    <!-- Logo y tÃ­tulo -->
    <div class="brand">
      <div class="logo">
        <span class="logo-icon">âš¡</span>
      </div>
      <h1 class="brand-title">ActÃ­vate Banco Internacional</h1>
    </div>

    <!-- MenÃº de navegaciÃ³n -->
    <ul class="nav-menu">
      <li class="nav-item">
        <a
          routerLink="/"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{exact: true}"
          class="nav-link"
        >
          Inicio
        </a>
      </li>
      <li class="nav-item">
        <a routerLink="/campeonato" routerLinkActive="active" class="nav-link">
          Campeonato
        </a>
      </li>
      <li class="nav-item">
        <a
          routerLink="/manana-activate"
          routerLinkActive="active"
          class="nav-link"
        >
          MaÃ±ana ActÃ­vate
        </a>
      </li>
      <li class="nav-item">
        <a routerLink="/clubes" routerLinkActive="active" class="nav-link">
          Clubes
        </a>
      </li>
    </ul>

    <!-- Ãrea de usuario (cuando estÃ¡ logueado) -->
    <div class="user-area" *ngIf="usuarioLogueado; else loginButton">
      <div class="user-info">
        <span class="welcome-text">Â¡Bienvenido!</span>
        <span class="user-name">{{ nombreUsuario }}</span>
      </div>
      <div class="user-menu">
        <button class="user-menu-btn" (click)="toggleUserMenu()">
          <span class="user-avatar">{{ obtenerIniciales() }}</span>
          <span class="dropdown-arrow" [class.rotated]="userMenuAbierto"
            >â–¼</span
          >
        </button>
        <div class="user-dropdown" [class.show]="userMenuAbierto">
          <button class="dropdown-item" (click)="irAPerfil()">
            <span>ğŸ‘¤</span> Mi Perfil
          </button>
          <button class="dropdown-item" (click)="iraConfiguracion()">
            <span>âš™ï¸</span> ConfiguraciÃ³n
          </button>
          <button class="dropdown-item logout-btn" (click)="logout()">
            <span>ğŸšª</span> Cerrar SesiÃ³n
          </button>
        </div>
      </div>
    </div>

    <!-- BotÃ³n de login (cuando no estÃ¡ logueado) -->
    <ng-template #loginButton>
      <button class="login-btn" (click)="abrirModal()">Iniciar sesiÃ³n</button>
    </ng-template>

    <!-- Modal de login -->
    <div
      class="modal-backdrop"
      [class.show]="modalAbierto"
      (click)="cerrarModal()"
    >
      <div class="modal" (click)="$event.stopPropagation()">
        <h2>Iniciar sesiÃ³n</h2>
        <form (ngSubmit)="login()" #loginForm="ngForm">
          <input
            type="email"
            name="correo"
            [(ngModel)]="correo"
            placeholder="Correo electrÃ³nico"
            required
          />
          <input
            type="password"
            name="password"
            [(ngModel)]="password"
            placeholder="ContraseÃ±a"
            required
          />
          <button type="submit" [disabled]="!loginForm.form.valid">
            Entrar
          </button>
        </form>
        <button class="cerrar-modal" (click)="cerrarModal()">Cerrar</button>
      </div>
    </div>

    <!-- BotÃ³n mÃ³vil (hamburguesa) -->
    <div class="mobile-menu-toggle" (click)="cerrarUserMenu()">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </nav>
</header>
